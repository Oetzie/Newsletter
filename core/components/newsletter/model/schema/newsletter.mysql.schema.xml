<?xml version="1.0" encoding="UTF-8"?>
<model package="newsletter" baseClass="xPDOObject" platform="mysql" defaultEngine="MyISAM" version="1.0">
	<object class="NewsletterNewsletters" table="newsletter_newsletters" extends="xPDOSimpleObject">
    	<field key="id" dbtype="int" precision="11" phptype="integer" null="false" index="pk" generated="native"/>
    	<field key="resource_id" dbtype="int" precision="11" phptype="integer" null="false" default=""/>
        <field key="send_status" dbtype="int" precision="1" phptype="integer" null="false" default="0"/>
        <field key="send_repeat" dbtype="int" precision="11" phptype="integer" null="false" default="1"/>
        <field key="send_interval" dbtype="int" precision="11" phptype="integer" null="false" default="7"/>
        <field key="send_date" dbtype="date" phptype="timestamp" null="false" default=""/>
        <field key="send_emails" dbtype="text" precision="2048" phptype="string" null="false" default=""/>
        <field key="hidden" dbtype="int" precision="1" phptype="integer" null="false" default="0"/>
        <field key="editedon" dbtype="timestamp" phptype="timestamp" attributes="ON UPDATE CURRENT_TIMESTAMP" null="false" default=""/>
        
        <index alias="PRIMARY" name="PRIMARY" primary="true" unique="true">
        	<column key="id" collation="A" null="false" />
        </index>
        
        <aggregate alias="modResource" local="resource_id" class="modResource" foreign="id" owner="foreign" cardinality="one" />
		<aggregate alias="NewsletterListsNewsletters" local="id" class="NewsletterListsNewsletters" foreign="newsletter_id" owner="local" cardinality="many" />
		<aggregate alias="NewsletterNewslettersInfo" local="id" class="NewsletterNewslettersInfo" foreign="newsletter_id" owner="local" cardinality="many" />
    </object>
    
	<object class="NewsletterSubscriptions" table="newsletter_subscriptions" extends="xPDOSimpleObject">
    	<field key="id" dbtype="int" precision="11" phptype="integer" null="false" index="pk" generated="native"/>
    	<field key="context" dbtype="varchar" precision="75" phptype="string" null="false" default=""/>
    	<field key="name" dbtype="varchar" precision="75" phptype="string" null="false" default=""/>
    	<field key="email" dbtype="varchar" precision="75" phptype="string" null="false" default=""/>
		<field key="token" dbtype="varchar" precision="255" phptype="string" null="false" default=""/>
        <field key="active" dbtype="int" precision="1" phptype="integer" null="false" default="0"/>
        <field key="editedon" dbtype="timestamp" phptype="timestamp" attributes="ON UPDATE CURRENT_TIMESTAMP" null="false" default=""/>
        
        <index alias="PRIMARY" name="PRIMARY" primary="true" unique="true">
        	<column key="id" collation="A" null="false" />
        </index>

        <aggregate alias="NewsletterListsSubscriptions" local="id" class="NewsletterListsSubscriptions" foreign="subscription_id" owner="local" cardinality="many" />
    	<aggregate alias="NewsletterSubscriptionsInfo" local="id" class="NewsletterSubscriptionsInfo" foreign="subscription_id" owner="local" cardinality="many" />
    </object>

    <object class="NewsletterLists" table="newsletter_lists" extends="xPDOSimpleObject">
    	<field key="id" dbtype="int" precision="11" phptype="integer" null="false" index="pk" generated="native"/>
    	<field key="name" dbtype="varchar" precision="75" phptype="string" null="false" default=""/>
    	<field key="description" dbtype="text" precision="2048" phptype="string" null="false" default=""/>
    	<field key="active" dbtype="int" precision="1" phptype="integer" null="false" default="1"/>
        <field key="editedon" dbtype="timestamp" phptype="timestamp" attributes="ON UPDATE CURRENT_TIMESTAMP" null="false" default=""/>
        
        <index alias="PRIMARY" name="PRIMARY" primary="true" unique="true">
        	<column key="id" collation="A" null="false" />
        </index>

		<aggregate alias="NewsletterListsNewsletters" local="id" class="NewsletterListsNewsletters" foreign="lists_id" owner="local" cardinality="many" />
        <aggregate alias="NewsletterListsSubscriptions" local="id" class="NewsletterListsSubscriptions" foreign="lists_id" owner="local" cardinality="many" />
    </object>
    
    <object class="NewsletterListsNewsletters" table="newsletter_lists_newsletters" extends="xPDOSimpleObject">
    	<field key="id" dbtype="int" precision="11" phptype="integer" null="false" index="pk" generated="native"/>
    	<field key="list_id" dbtype="int" precision="11" phptype="integer" null="false" default=""/>
    	<field key="newsletter_id" dbtype="int" precision="11" phptype="integer" null="false" default=""/>
    	
        <index alias="PRIMARY" name="PRIMARY" primary="true" unique="true">
        	<column key="id" collation="A" null="false" />
        </index>

		<aggregate alias="NewsletterLists" local="list_id" class="NewsletterLists" foreign="id" owner="foreign" cardinality="one" />
        <aggregate alias="NewsletterNewsletters" local="newsletter_id" class="NewsletterNewsletters" foreign="id" owner="foreign" cardinality="one" />
    </object>
    
    <object class="NewsletterListsSubscriptions" table="newsletter_lists_subscriptions" extends="xPDOSimpleObject">
    	<field key="id" dbtype="int" precision="11" phptype="integer" null="false" index="pk" generated="native"/>
    	<field key="list_id" dbtype="int" precision="11" phptype="integer" null="false" default=""/>
    	<field key="subscription_id" dbtype="int" precision="11" phptype="integer" null="false" default=""/>
    	
        <index alias="PRIMARY" name="PRIMARY" primary="true" unique="true">
        	<column key="id" collation="A" null="false" />
        </index>

		<aggregate alias="NewsletterLists" local="list_id" class="NewsletterLists" foreign="id" owner="foreign" cardinality="one" />
        <aggregate alias="NewsletterSubscriptions" local="subscription_id" class="NewsletterSubscriptions" foreign="id" owner="foreign" cardinality="one" />
    </object>
    
    <object class="NewsletterNewslettersInfo" table="newsletter_send_details" extends="xPDOSimpleObject">
    	<field key="id" dbtype="int" precision="11" phptype="integer" null="false" index="pk" generated="native"/>
    	<field key="newsletter_id" dbtype="int" precision="11" phptype="integer" null="false" default=""/>
    	<field key="timestamp" dbtype="timestamp" phptype="timestamp" attributes="ON UPDATE CURRENT_TIMESTAMP" null="false" default=""/>
    	
        <index alias="PRIMARY" name="PRIMARY" primary="true" unique="true">
        	<column key="id" collation="A" null="false" />
        </index>

		<aggregate alias="NewsletterNewslettersInfo" local="newsletter_id" class="NewsletterNewslettersInfo" foreign="id" owner="foreign" cardinality="one" />
    </object>
    
    <object class="NewsletterSubscriptionsInfo" table="newsletter_subscriptions_info" extends="xPDOSimpleObject">
    	<field key="id" dbtype="int" precision="11" phptype="integer" null="false" index="pk" generated="native"/>
    	<field key="subscription_id" dbtype="int" precision="11" phptype="integer" null="false" default=""/>
    	<field key="key" dbtype="varchar" precision="75" phptype="string" null="false" default=""/>
    	<field key="content" dbtype="text" precision="2048" phptype="string" null="false" default=""/>
    	
        <index alias="PRIMARY" name="PRIMARY" primary="true" unique="true">
        	<column key="id" collation="A" null="false" />
        </index>

		<aggregate alias="NewsletterSubscriptionsInfo" local="subscription_id" class="NewsletterSubscriptionsInfo" foreign="id" owner="foreign" cardinality="one" />
    </object>
</model>